<?php // Include all the settings and functions

//battleground weekend array 2008-2009
$bgs = Array(

'102008' => Array
	(
            '3' => 'WG',
            '4' => 'WG',
            '5' => 'WG',
            '6' => 'WG',
		          
            '10' => 'AB',
            '11' => 'AB',
            '12' => 'AB',
            '13' => 'AB',
		          
            '17' => 'EYE',
            '18' => 'EYE',
            '19' => 'EYE',
            '20' => 'EYE',
      		    
            '24' => 'AV',
            '25' => 'AV',
            '26' => 'AV',
            '27' => 'AV',
		          
            '31' => 'WG',
	),

'112008' => Array
	(
            '1' => 'WG',
		'2' => 'WG',
		'3' => 'WG',
		
		'7' => 'AB',
		'8' => 'AB',
		'9' => 'AB',
		'10' => 'AB',
		
		'14' => 'EYE',
		'15' => 'EYE',
		'16' => 'EYE',
		'17' => 'EYE',
		
		'21' => 'AV',
		'22' => 'AV',
		'23' => 'AV',
		'27' => 'AV',
		
		'28' => 'WG',
		'29' => 'WG',
		'30' => 'WG',
		'31' => 'WG',
	),
'122008' => Array
	(
		'5' => 'AB',
		'6' => 'AB',
		'7' => 'AB',
		'8' => 'AB',
		'12' => 'EYE',
		'13' => 'EYE',
		'14' => 'EYE',
		'15' => 'EYE',
		'19' => 'AV',
		'20' => 'AV',
		'21' => 'AV',
		'22' => 'AV',
		'26' => 'WG',
		'27' => 'WG',
		'28' => 'WG',
		'29' => 'WG',
	),

'012009' => Array
	(
		'2' => 'AB',
		'3' => 'AB',
		'4' => 'AB',
		'5' => 'AB',
		'9' => 'EYE',
		'10' => 'EYE',
		'11' => 'EYE',
		'12' => 'EYE',
		'16' => 'AV',
		'17' => 'AV',
		'18' => 'AV',
		'19' => 'AV',
		'23' => 'WG',
		'24' => 'WG',
		'25' => 'WG',
		'26' => 'WG',
		'30' => 'AB',
		'31' => 'AB',
		'2' => 'AB',
		'3' => 'AB',
	),
'022009' => Array
	(
		'6' => 'EYE',
		'7' => 'EYE',
		'8' => 'EYE',
		'9' => 'EYE',
		'13' => 'AV',
		'14' => 'AV',
		'15' => 'AV',
		'16' => 'AV',
		'20' => 'WG',
		'21' => 'WG',
		'22' => 'WG',
		'23' => 'WG',
		'27' => 'AB',
		'28' => 'AB',
		
	),
'032009' => Array
	(
            '1' => 'AB',
		'2' => 'AB',
		'06' => 'EYE',
		'06' => 'EYE',
		'06' => 'EYE',
		'06' => 'EYE',
		'13' => 'AV',
		'14' => 'AV',
		'15' => 'AV',
		'16' => 'AV',
		'20' => 'WG',
		'21' => 'WG',
		'22' => 'WG',
            '23' => 'WG',
		'27' => 'AB',
		'28' => 'AB',
		'29' => 'AB',
		'30' => 'AB',
	),
'042009' => Array
	(
		'3' => 'EYE',
		'4' => 'EYE',
		'5' => 'EYE',
		'6' => 'EYE',
		'10' => 'AV',
		'11' => 'AV',
		'12' => 'AV',
		'13' => 'AV',
		'17' => 'WG',
		'18' => 'WG',
		'19' => 'WG',
		'20' => 'WG',
		'24' => 'AB',
		'25' => 'AB',
		'26' => 'AB',
		'27' => 'AB',
	),
'052009' => Array
	(
		'1' => 'EYE',
		'2' => 'EYE',
		'3' => 'EYE',
		'4' => 'EYE',
		'8' => 'AV',
		'9' => 'AV',
		'10' => 'AV',
		'11' => 'AV',
		'15' => 'WG', 
		'16' => 'WG',
		'17' => 'WG',
		'18' => 'WG',
		'22' => 'AB',
		'23' => 'AB',
		'24' => 'AB',
            '25' => 'AB',
		'29' => 'EYE',
		'30' => 'EYE',
		'31' => 'EYE',
		
	),
'062009' => Array
	(
            '1' => 'EYE',
		'5' => 'AV',
		'6' => 'AV',
		'7' => 'AV',
		'8' => 'AV',
		'12' => 'WG',
		'13' => 'WG',
		'14' => 'WG',
            '15' => 'WG',
		'19' => 'AB',
		'20' => 'AB',
		'21' => 'AB',
		'22' => 'AB',
		'26' => 'EYE',
		'27' => 'EYE',
		'28' => 'EYE',
		'29' => 'EYE',
		
	),
'072009' => Array
	(
		'3' => 'AV',
		'4' => 'AV',
		'5' => 'AV',
		'6' => 'AV',
		'10' => 'WG',
		'11' => 'WG',
		'12' => 'WG',
		'13' => 'WG',
		'17' => 'AB',
		'18' => 'AB',
		'19' => 'AB',
		'20' => 'AB',
		'24' => 'EYE',
		'25' => 'EYE',
		'26' => 'EYE',
            '27' => 'EYE',
		'31' => 'AV',
	),
'082009' => Array
	(
            '1' => 'AV',
            '2' => 'AV',
            '3' => 'AV',
		'7' => 'WG',
		'8' => 'WG',
		'9' => 'WG',
		'10' => 'WG',
		'14' => 'AB',
		'15' => 'AB',
		'16' => 'AB',
		'17' => 'AB',
		'21' => 'EYE',
		'22' => 'EYE',
		'23' => 'EYE',
		'24' => 'EYE',
		'28' => 'AV',
		'29' => 'AV',
		'30' => 'AV',
		'31' => 'AV',
	),
'092009' => Array
	(
		'4' => 'WG',
		'5' => 'WG',
		'6' => 'WG',
		'7' => 'WG',
		'11' => 'AB',
		'12' => 'AB',
		'13' => 'AB',
		'14' => 'AB',
		'18' => 'EYE',
		'19' => 'EYE',
		'20' => 'EYE',
		'21' => 'EYE',
		'25' => 'AV',
		'26' => 'AV',
		'27' => 'AV',
		'28' => 'AV',
	),
'102009' => Array
	(
		'2' => 'WG',
		'3' => 'WG',
		'4' => 'WG',
		'5' => 'WG',
		'9' => 'AB',
		'10' => 'AB',
		'11' => 'AB',
		'12' => 'AB',
		'16' => 'EYE',
		'17' => 'EYE',
		'18' => 'EYE',
		'19' => 'EYE',
		'23' => 'AV',
		'24' => 'AV',
		'25' => 'AV',
		'26' => 'AV',
		'30' => 'WG',
		'31' => 'WG',
		
	),
'112009' => Array
	(
            '1' => 'WG',
            '2' => 'WG',
		'6' => 'AB',
		'7' => 'AB',
		'8' => 'AB',
            '9' => 'AB',
		'13' => 'EYE',
		'14' => 'EYE',
		'15' => 'EYE',
		'16' => 'EYE',
		'20' => 'AV',
		'21' => 'AV',
		'22' => 'AV',
		'23' => 'AV',
		'27' => 'WG',
		'28' => 'WG',
		'29' => 'WG',
            '30' => 'WG',
	),
'122009' => Array
	(
		'4' => 'AB',
		'5' => 'AB',
		'6' => 'AB',
		'7' => 'AB',
		'11' => 'EYE',
		'12' => 'EYE',
		'13' => 'EYE',
		'14' => 'EYE',
		'18' => 'AV',
		'19' => 'AV',
		'20' => 'AV',
		'21' => 'AV',
		'25' => 'WG',
		'26' => 'WG',
		'27' => 'WG',
		'28' => 'WG',
	),
);
	require("include/helper_functions.php");
	require("include/calendar_functions.php");
      //require ($addon['dir'] . 'inc/bgs.php');

	
	define('CALENDAR_TABLE',$roster->db->table('info',$addon['basename']));
	
	define('ATTENDANCE_TABLE',$roster->db->table('attend',$addon['basename']));
	
	define('OTHERINFO_TABLE',$roster->db->table('other',$addon['basename']));
$roster->output['html_head'] = '
<script type="text/javascript" src="' . ROSTER_PATH . 'addons/GroupCalendar/css/tooltip.js"></script>

<link rel="stylesheet" href="' . ROSTER_PATH . 'addons/GroupCalendar/css/calendar.css" type="text/css" />
<link rel="stylesheet" href="' . ROSTER_PATH . 'addons/GroupCalendar/css/style.css" type="text/css" />
';
?>



<?php echo  $tooltipHolder ?>
<?php javaScript() ?>
<?php //print makeContainerTop($gc_lang['event_calendar'],"100%"); 
?>
	<?php 
	
	if (isset($_GET['id'])){
	include 'calendar_event.php';
	}
	
	if (!isset($_GET['id'])){
	
	
      print border('sgreen','start',$roster->locale->act['event_calendar']); ?>
	<table cellpadding="0" cellspacing="0" border="0" align="center">
	<tr>
		<td>
			<?php echo  $scrollarrows ?><span class="date_header">&nbsp;<?php echo  $roster->locale->act['months'][$m-1] ?>&nbsp;<?php echo  $y ?></span>
		</td>
	
		<!-- form tags must be outside of <td> tags -->
		<form name="monthYear">
		
		<td align="right">
		<?php monthPullDown($m, $roster->locale->act['months']); yearPullDown($y); ?>
		<input type="button" value="<?php echo  $roster->locale->act['forms']['go'] ?>" onClick="submitMonthYear()">
		</td>
		</form>
	
	</tr>
	
	<tr>
		<td colspan="2" bgcolor="#000000">
		<?php echo writeCalendar($m, $y, $bgs); 
            ?>
		</td>
	</tr>
	<tr>
		<td colspan="2">
		  <font size="-1"><?php echo  $roster->locale->act['Last_Updated'] ?><?php echo  get_calendar_update_time() ?></font>
		</td>
	</tr>
	</table>
	<?php 
      echo border('sgreen','end');
      }
